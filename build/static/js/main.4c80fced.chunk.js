(window.webpackJsonpvideo=window.webpackJsonpvideo||[]).push([[0],{121:function(e,t,n){},122:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(24),i=n.n(o),c=(n(90),n(31)),s=n(21),l=n(32),d=n(33),u=n(37),m=n(143),v=n(141),p=n(23),f=n.n(p),h=n(38),g=n(77),R=n.n(g),b=n(14),w=n(138),y=n(139),E=n(145),k=n(140),O=n(46),j="video/webm",S=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(d.a)(t).call(this,e))).initiateRecording=Object(h.a)(f.a.mark(function e(){var t;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia({video:!0,audio:!0});case 2:t=e.sent,n.video.srcObject=t,n.video.play(),n.mediaRecorder=new MediaRecorder(t,{mimeType:j}),n.chunks=[],n.mediaRecorder.ondataavailable=function(e){e.data&&e.data.size>0&&n.chunks.push(e.data)};case 8:case"end":return e.stop()}},e)})),n.startRecording=function(){var e=Object(h.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n.chunks=[],n.mediaRecorder.start(10),e.next=5,n.setState({recording:!0,canSend:!1});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.stopRecording=function(){var e=Object(h.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n.mediaRecorder.stop(),e.next=4,n.setState({recording:!1,canSend:!0});case 4:n.saveVideo();case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.restartRecording=function(){n.initiateRecording(),n.setState({recording:!1,videoURL:null,canSend:!1})},n.displayButton=function(){return n.state.canSend&&null!=n.state.videoURL?r.a.createElement("div",null,r.a.createElement(w.a,{size:"large",color:"primary",onClick:function(){n.restartRecording()}},"Restart Recording"),r.a.createElement(w.a,{size:"large",color:"primary",onClick:function(){n.submitVideo(n.state.video)}},"Submit")):null==n.state.videoURL?!1===n.state.recording?r.a.createElement(w.a,{size:"large",color:"primary",onClick:function(e){return n.startRecording(e)}},"Start Recording"):r.a.createElement(w.a,{size:"large",color:"primary",onClick:function(e){return n.stopRecording(e)}},"Stop Recording"):void 0},n.saveVideo=function(){var e=new Blob(n.chunks,{type:j}),t=window.URL.createObjectURL(e);n.setState({video:e}),n.setState({videoURL:t})},n.submitVideo=function(e){var t=new FormData;t.append("profile",e,R()()+".mp4"),fetch("http://localhost:8000/single",{method:"POST",mode:"no-cors",body:t}).then(function(e){"OK"===e.statusText&&console.log("hello bro")}),n.setState({canSend:!1})},n.videoDisplay=function(){return null!=n.state.videoURL?r.a.createElement(y.a,null,r.a.createElement(O.Player,null,r.a.createElement("source",{src:n.state.videoURL}),r.a.createElement(O.ControlBar,{autoHide:!0}))):null==n.state.videoURL?r.a.createElement(y.a,null,r.a.createElement("video",{style:{width:"100%",height:"400"},ref:function(e){n.video=e},muted:!0},"Video stream not available.")):void 0},n.state={recording:!1,canSend:!1,videoURL:null},n}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.initiateRecording()}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"mt-5 col-lg-6 offset-lg-3"},r.a.createElement(E.a,{className:e.card},this.videoDisplay(),r.a.createElement(k.a,null,this.displayButton()))))}}]),t}(r.a.Component),U=Object(b.a)(function(e){return{card:{maxWidth:"100%"}}})(S),x=(n(120),n(121),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,null),r.a.createElement(v.a,{maxWidth:"lg"},r.a.createElement(U,null)))}}]),t}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},85:function(e,t,n){e.exports=n(122)},90:function(e,t,n){}},[[85,1,2]]]);
//# sourceMappingURL=main.4c80fced.chunk.js.map